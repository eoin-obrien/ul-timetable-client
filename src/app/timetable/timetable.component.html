<!--TODO progress bar while loading-->
<!--TODO fixed cell height set in CSS-->
<!--TODO style day names flush with the surface-->
<!--TODO style times flush with the surface-->
<!--TODO absolutely position lessons based on time since 09:00-->
<!--TODO configure lesson height based on duration-->
<!--TODO style lessons as material cards-->
<!--TODO color lesson cards based on module-->
<!--TODO extract lessons and days as separate components-->

<div fxLayout="column" *ngIf="timetable" fxShow="false" fxShow.gt-sm>

  <div class="mat-tab-nav-bar">
    <md-grid-list class="mat-tab-list" cols="1" rowHeight="48px" gutterSize="0px" fxFlex="72px">
      <md-grid-tile class="mat-tab-link"
                    colspan="1"
                    rowspan="1">
      </md-grid-tile>
    </md-grid-list>

    <md-grid-list class="mat-tab-list" cols="5" rowHeight="56px" gutterSize="0px" fxFlex>
      <md-grid-tile class="mat-tab-link"
                    *ngFor="let day of days"
                    colspan="1"
                    rowspan="1">
        {{day}}
      </md-grid-tile>
    </md-grid-list>
  </div>

  <div class="timetable-body" fxLayout="row">

    <md-grid-list class="time-column"
                  cols="1"
                  gutterSize="8px"
                  rowHeight="92px"
                  fxFlex="72px">
      <md-grid-tile
        *ngFor="let time of times"
        colspan="1"
        rowspan="1">
        {{time}}
      </md-grid-tile>
    </md-grid-list>

    <app-timetable-column *ngFor="let day of timetable.toArray()"
                          [lessons]="day"
                          [moduleColors]="colors"
                          style="width: 20%"></app-timetable-column>

  </div>

</div>

<div fxLayout="column" *ngIf="timetable" fxShow="false" fxShow.lt-md>


  <md-tab-group>
    <md-tab *ngFor="let day of timetable.toArray(); let i = index" [label]="shortDays[i]">

      <div class="timetable-body" fxLayout="row">

        <md-grid-list class="time-column"
                      cols="1"
                      gutterSize="8px"
                      rowHeight="92px"
                      fxFlex="72px">
          <md-grid-tile
            *ngFor="let time of times"
            colspan="1"
            rowspan="1">
            {{time}}
          </md-grid-tile>
        </md-grid-list>

        <app-timetable-column [lessons]="day" [moduleColors]="colors" style="width: 100%"></app-timetable-column>

      </div>

    </md-tab>
  </md-tab-group>

</div>
